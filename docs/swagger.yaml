basePath: /api/v1
definitions:
  domain.APIError:
    properties:
      detail:
        type: string
      errors:
        additionalProperties:
          type: string
        type: object
      status:
        type: integer
      title:
        type: string
      type:
        type: string
    type: object
  domain.AcceptOfferRequest:
    properties:
      createProject:
        description: If true, create a project from this offer
        type: boolean
      managerId:
        maxLength: 100
        type: string
      projectName:
        maxLength: 200
        type: string
    type: object
  domain.AcceptOfferResponse:
    properties:
      offer:
        $ref: '#/definitions/domain.OfferDTO'
      project:
        allOf:
        - $ref: '#/definitions/domain.ProjectDTO'
        description: Only present if createProject was true
    type: object
  domain.ActivityDTO:
    properties:
      activityType:
        $ref: '#/definitions/domain.ActivityType'
      assignedToId:
        type: string
      attendees:
        items:
          type: string
        type: array
      body:
        type: string
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      completedAt:
        type: string
      createdAt:
        type: string
      creatorId:
        type: string
      creatorName:
        type: string
      dueDate:
        type: string
      durationMinutes:
        type: integer
      id:
        type: string
      isPrivate:
        type: boolean
      occurredAt:
        type: string
      parentActivityId:
        type: string
      priority:
        type: integer
      scheduledAt:
        type: string
      status:
        $ref: '#/definitions/domain.ActivityStatus'
      targetId:
        type: string
      targetType:
        $ref: '#/definitions/domain.ActivityTargetType'
      title:
        type: string
    type: object
  domain.ActivityStatus:
    enum:
    - planned
    - in_progress
    - completed
    - cancelled
    type: string
    x-enum-varnames:
    - ActivityStatusPlanned
    - ActivityStatusInProgress
    - ActivityStatusCompleted
    - ActivityStatusCancelled
  domain.ActivityStatusCounts:
    properties:
      cancelled:
        type: integer
      completed:
        type: integer
      inProgress:
        type: integer
      planned:
        type: integer
    type: object
  domain.ActivityTargetType:
    enum:
    - Customer
    - Contact
    - Project
    - Offer
    - Deal
    - File
    - Notification
    type: string
    x-enum-varnames:
    - ActivityTargetCustomer
    - ActivityTargetContact
    - ActivityTargetProject
    - ActivityTargetOffer
    - ActivityTargetDeal
    - ActivityTargetFile
    - ActivityTargetNotification
  domain.ActivityType:
    enum:
    - meeting
    - call
    - email
    - task
    - note
    - system
    type: string
    x-enum-varnames:
    - ActivityTypeMeeting
    - ActivityTypeCall
    - ActivityTypeEmail
    - ActivityTypeTask
    - ActivityTypeNote
    - ActivityTypeSystem
  domain.AddAttendeeRequest:
    properties:
      userId:
        maxLength: 100
        type: string
    required:
    - userId
    type: object
  domain.AddContactRelationshipRequest:
    properties:
      entityId:
        type: string
      entityType:
        $ref: '#/definitions/domain.ContactEntityType'
      isPrimary:
        type: boolean
      role:
        maxLength: 100
        type: string
    required:
    - entityId
    - entityType
    type: object
  domain.AddOfferBudgetDimensionRequest:
    properties:
      categoryId:
        maxLength: 50
        type: string
      cost:
        type: number
      customName:
        maxLength: 200
        type: string
      description:
        type: string
      displayOrder:
        minimum: 0
        type: integer
      marginOverride:
        type: boolean
      quantity:
        minimum: 0
        type: number
      revenue:
        minimum: 0
        type: number
      targetMarginPercent:
        minimum: 0
        type: number
      unit:
        maxLength: 50
        type: string
    type: object
  domain.AdvanceOfferRequest:
    properties:
      phase:
        $ref: '#/definitions/domain.OfferPhase'
    required:
    - phase
    type: object
  domain.AuditAction:
    enum:
    - create
    - update
    - delete
    - login
    - logout
    - permission_grant
    - permission_revoke
    - role_assign
    - role_remove
    - export
    - import
    - api_call
    type: string
    x-enum-varnames:
    - AuditActionCreate
    - AuditActionUpdate
    - AuditActionDelete
    - AuditActionLogin
    - AuditActionLogout
    - AuditActionPermissionGrant
    - AuditActionPermissionRevoke
    - AuditActionRoleAssign
    - AuditActionRoleRemove
    - AuditActionExport
    - AuditActionImport
    - AuditActionAPICall
  domain.AuditLog:
    properties:
      action:
        $ref: '#/definitions/domain.AuditAction'
      changes:
        type: string
      companyID:
        $ref: '#/definitions/domain.CompanyID'
      createdAt:
        type: string
      entityID:
        type: string
      entityName:
        type: string
      entityType:
        type: string
      id:
        type: string
      ipaddress:
        type: string
      metadata:
        type: string
      newValues:
        type: string
      oldValues:
        type: string
      performedAt:
        type: string
      requestID:
        type: string
      userAgent:
        type: string
      userEmail:
        type: string
      userID:
        type: string
      userName:
        type: string
    type: object
  domain.AuthUserDTO:
    properties:
      company:
        $ref: '#/definitions/domain.CompanyDTO'
      email:
        type: string
      id:
        type: string
      initials:
        type: string
      isCompanyAdmin:
        type: boolean
      isSuperAdmin:
        type: boolean
      name:
        type: string
      roles:
        items:
          type: string
        type: array
    type: object
  domain.BudgetDimensionCategoryDTO:
    properties:
      description:
        type: string
      displayOrder:
        type: integer
      id:
        type: string
      isActive:
        type: boolean
      name:
        type: string
    type: object
  domain.BudgetDimensionDTO:
    properties:
      category:
        $ref: '#/definitions/domain.BudgetDimensionCategoryDTO'
      categoryId:
        type: string
      cost:
        type: number
      createdAt:
        type: string
      customName:
        type: string
      description:
        type: string
      displayOrder:
        type: integer
      id:
        type: string
      marginOverride:
        type: boolean
      marginPercent:
        type: number
      name:
        description: Resolved name (category or custom)
        type: string
      parentId:
        type: string
      parentType:
        $ref: '#/definitions/domain.BudgetParentType'
      quantity:
        type: number
      revenue:
        type: number
      targetMarginPercent:
        type: number
      unit:
        type: string
      updatedAt:
        type: string
    type: object
  domain.BudgetParentType:
    enum:
    - offer
    - project
    type: string
    x-enum-varnames:
    - BudgetParentOffer
    - BudgetParentProject
  domain.BudgetSummaryDTO:
    properties:
      dimensionCount:
        type: integer
      overallMarginPercent:
        type: number
      parentId:
        type: string
      parentType:
        $ref: '#/definitions/domain.BudgetParentType'
      totalCost:
        type: number
      totalProfit:
        type: number
      totalRevenue:
        type: number
    type: object
  domain.CloneOfferRequest:
    properties:
      includeDimensions:
        description: Default true - clone budget dimensions (nil treated as true)
        type: boolean
      includeFiles:
        description: Default false - files are not cloned by default
        type: boolean
      newTitle:
        maxLength: 200
        type: string
    type: object
  domain.Company:
    properties:
      color:
        type: string
      createdAt:
        type: string
      id:
        $ref: '#/definitions/domain.CompanyID'
      isActive:
        type: boolean
      logo:
        type: string
      name:
        type: string
      orgNumber:
        type: string
      shortName:
        type: string
      updatedAt:
        type: string
    type: object
  domain.CompanyDTO:
    properties:
      id:
        type: string
      name:
        type: string
    type: object
  domain.CompanyID:
    enum:
    - all
    - gruppen
    - stalbygg
    - hybridbygg
    - industri
    - tak
    - montasje
    type: string
    x-enum-varnames:
    - CompanyAll
    - CompanyGruppen
    - CompanyStalbygg
    - CompanyHybridbygg
    - CompanyIndustri
    - CompanyTak
    - CompanyMontasje
  domain.CompleteActivityRequest:
    properties:
      outcome:
        maxLength: 500
        type: string
    type: object
  domain.ContactDTO:
    properties:
      address:
        type: string
      city:
        type: string
      contactType:
        $ref: '#/definitions/domain.ContactType'
      country:
        type: string
      createdAt:
        description: ISO 8601
        type: string
      department:
        type: string
      email:
        type: string
      firstName:
        type: string
      fullName:
        type: string
      id:
        type: string
      isActive:
        type: boolean
      lastName:
        type: string
      linkedInUrl:
        type: string
      mobile:
        type: string
      notes:
        type: string
      phone:
        type: string
      postalCode:
        type: string
      preferredContactMethod:
        type: string
      primaryCustomerId:
        type: string
      primaryCustomerName:
        type: string
      relationships:
        items:
          $ref: '#/definitions/domain.ContactRelationshipDTO'
        type: array
      title:
        type: string
      updatedAt:
        description: ISO 8601
        type: string
    type: object
  domain.ContactEntityType:
    enum:
    - customer
    - project
    - deal
    type: string
    x-enum-varnames:
    - ContactEntityCustomer
    - ContactEntityProject
    - ContactEntityDeal
  domain.ContactRelationshipDTO:
    properties:
      contactId:
        type: string
      createdAt:
        type: string
      entityId:
        type: string
      entityType:
        $ref: '#/definitions/domain.ContactEntityType'
      id:
        type: string
      isPrimary:
        type: boolean
      role:
        type: string
    type: object
  domain.ContactType:
    enum:
    - primary
    - secondary
    - billing
    - technical
    - executive
    - other
    type: string
    x-enum-varnames:
    - ContactTypePrimary
    - ContactTypeSecondary
    - ContactTypeBilling
    - ContactTypeTechnical
    - ContactTypeExecutive
    - ContactTypeOther
  domain.CreateActivityRequest:
    properties:
      activityType:
        $ref: '#/definitions/domain.ActivityType'
      assignedToId:
        maxLength: 100
        type: string
      attendees:
        items:
          type: string
        type: array
      body:
        maxLength: 2000
        type: string
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      dueDate:
        type: string
      durationMinutes:
        minimum: 1
        type: integer
      isPrivate:
        type: boolean
      priority:
        maximum: 5
        minimum: 0
        type: integer
      scheduledAt:
        type: string
      status:
        $ref: '#/definitions/domain.ActivityStatus'
      targetId:
        type: string
      targetType:
        $ref: '#/definitions/domain.ActivityTargetType'
      title:
        maxLength: 200
        type: string
    required:
    - activityType
    - targetId
    - targetType
    - title
    type: object
  domain.CreateContactRequest:
    properties:
      address:
        maxLength: 500
        type: string
      city:
        maxLength: 100
        type: string
      contactType:
        $ref: '#/definitions/domain.ContactType'
      country:
        maxLength: 100
        type: string
      department:
        maxLength: 100
        type: string
      email:
        maxLength: 255
        type: string
      firstName:
        maxLength: 100
        type: string
      lastName:
        maxLength: 100
        type: string
      linkedInUrl:
        maxLength: 500
        type: string
      mobile:
        maxLength: 50
        type: string
      notes:
        type: string
      phone:
        maxLength: 50
        type: string
      postalCode:
        maxLength: 20
        type: string
      preferredContactMethod:
        maxLength: 50
        type: string
      primaryCustomerId:
        type: string
      title:
        maxLength: 100
        type: string
    required:
    - firstName
    - lastName
    type: object
  domain.CreateCustomerRequest:
    properties:
      address:
        maxLength: 500
        type: string
      city:
        maxLength: 100
        type: string
      contactEmail:
        type: string
      contactPerson:
        maxLength: 200
        type: string
      contactPhone:
        maxLength: 50
        type: string
      country:
        maxLength: 100
        type: string
      email:
        type: string
      industry:
        $ref: '#/definitions/domain.CustomerIndustry'
      name:
        maxLength: 200
        type: string
      orgNumber:
        maxLength: 20
        type: string
      phone:
        maxLength: 50
        type: string
      postalCode:
        maxLength: 20
        type: string
      status:
        $ref: '#/definitions/domain.CustomerStatus'
      tier:
        $ref: '#/definitions/domain.CustomerTier'
    required:
    - country
    - email
    - name
    - orgNumber
    - phone
    type: object
  domain.CreateDealRequest:
    properties:
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      currency:
        maxLength: 3
        type: string
      customerId:
        type: string
      description:
        type: string
      expectedCloseDate:
        type: string
      notes:
        type: string
      offerId:
        type: string
      ownerId:
        maxLength: 100
        type: string
      probability:
        maximum: 100
        minimum: 0
        type: integer
      source:
        maxLength: 100
        type: string
      stage:
        $ref: '#/definitions/domain.DealStage'
      title:
        maxLength: 200
        type: string
      value:
        minimum: 0
        type: number
    required:
    - companyId
    - customerId
    - ownerId
    - title
    type: object
  domain.CreateFollowUpRequest:
    properties:
      assignedToId:
        maxLength: 100
        type: string
      description:
        maxLength: 2000
        type: string
      dueDate:
        type: string
      title:
        maxLength: 200
        type: string
    required:
    - title
    type: object
  domain.CreateOfferItemRequest:
    properties:
      cost:
        minimum: 0
        type: number
      description:
        type: string
      discipline:
        maxLength: 200
        type: string
      quantity:
        minimum: 0
        type: number
      revenue:
        minimum: 0
        type: number
      unit:
        maxLength: 50
        type: string
    required:
    - cost
    - discipline
    - revenue
    type: object
  domain.CreateOfferRequest:
    properties:
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      customerId:
        type: string
      description:
        type: string
      items:
        items:
          $ref: '#/definitions/domain.CreateOfferItemRequest'
        minItems: 1
        type: array
      notes:
        type: string
      phase:
        $ref: '#/definitions/domain.OfferPhase'
      probability:
        maximum: 100
        minimum: 0
        type: integer
      responsibleUserId:
        type: string
      status:
        $ref: '#/definitions/domain.OfferStatus'
      title:
        maxLength: 200
        type: string
    required:
    - companyId
    - customerId
    - items
    - phase
    - responsibleUserId
    - status
    - title
    type: object
  domain.CreateProjectRequest:
    properties:
      budget:
        minimum: 0
        type: number
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      completionPercent:
        maximum: 100
        minimum: 0
        type: number
      customerId:
        type: string
      dealId:
        type: string
      description:
        type: string
      endDate:
        type: string
      estimatedCompletionDate:
        type: string
      hasDetailedBudget:
        type: boolean
      health:
        $ref: '#/definitions/domain.ProjectHealth'
      managerId:
        type: string
      name:
        maxLength: 200
        type: string
      offerId:
        type: string
      projectNumber:
        maxLength: 50
        type: string
      spent:
        minimum: 0
        type: number
      startDate:
        type: string
      status:
        allOf:
        - $ref: '#/definitions/domain.ProjectStatus'
        enum:
        - planning
        - active
        - on_hold
        - completed
        - cancelled
      summary:
        type: string
      teamMembers:
        items:
          type: string
        type: array
    required:
    - companyId
    - customerId
    - managerId
    - name
    - startDate
    - status
    type: object
  domain.CustomerDTO:
    properties:
      activeOffers:
        type: integer
      address:
        type: string
      city:
        type: string
      contactEmail:
        type: string
      contactPerson:
        type: string
      contactPhone:
        type: string
      country:
        type: string
      createdAt:
        description: ISO 8601
        type: string
      email:
        type: string
      id:
        type: string
      industry:
        $ref: '#/definitions/domain.CustomerIndustry'
      name:
        type: string
      orgNumber:
        type: string
      phone:
        type: string
      postalCode:
        type: string
      status:
        $ref: '#/definitions/domain.CustomerStatus'
      tier:
        $ref: '#/definitions/domain.CustomerTier'
      totalValue:
        type: number
      updatedAt:
        description: ISO 8601
        type: string
    type: object
  domain.CustomerIndustry:
    enum:
    - construction
    - manufacturing
    - retail
    - logistics
    - agriculture
    - energy
    - public_sector
    - real_estate
    - other
    type: string
    x-enum-varnames:
    - CustomerIndustryConstruction
    - CustomerIndustryManufacturing
    - CustomerIndustryRetail
    - CustomerIndustryLogistics
    - CustomerIndustryAgriculture
    - CustomerIndustryEnergy
    - CustomerIndustryPublicSector
    - CustomerIndustryRealEstate
    - CustomerIndustryOther
  domain.CustomerStatsDTO:
    properties:
      activeDeals:
        type: integer
      activeOffers:
        type: integer
      activeProjects:
        type: integer
      totalContacts:
        type: integer
      totalValue:
        type: number
    type: object
  domain.CustomerStatus:
    enum:
    - active
    - inactive
    - lead
    - churned
    type: string
    x-enum-varnames:
    - CustomerStatusActive
    - CustomerStatusInactive
    - CustomerStatusLead
    - CustomerStatusChurned
  domain.CustomerTier:
    enum:
    - bronze
    - silver
    - gold
    - platinum
    type: string
    x-enum-varnames:
    - CustomerTierBronze
    - CustomerTierSilver
    - CustomerTierGold
    - CustomerTierPlatinum
  domain.CustomerWithDetailsDTO:
    properties:
      activeDeals:
        items:
          $ref: '#/definitions/domain.DealDTO'
        type: array
      activeOffers:
        type: integer
      activeProjects:
        items:
          $ref: '#/definitions/domain.ProjectDTO'
        type: array
      address:
        type: string
      city:
        type: string
      contactEmail:
        type: string
      contactPerson:
        type: string
      contactPhone:
        type: string
      contacts:
        items:
          $ref: '#/definitions/domain.ContactDTO'
        type: array
      country:
        type: string
      createdAt:
        description: ISO 8601
        type: string
      email:
        type: string
      id:
        type: string
      industry:
        $ref: '#/definitions/domain.CustomerIndustry'
      name:
        type: string
      orgNumber:
        type: string
      phone:
        type: string
      postalCode:
        type: string
      stats:
        $ref: '#/definitions/domain.CustomerStatsDTO'
      status:
        $ref: '#/definitions/domain.CustomerStatus'
      tier:
        $ref: '#/definitions/domain.CustomerTier'
      totalValue:
        type: number
      updatedAt:
        description: ISO 8601
        type: string
    type: object
  domain.DashboardMetrics:
    properties:
      activeOffers:
        type: integer
      activeProjects:
        items:
          $ref: '#/definitions/domain.ProjectDTO'
        type: array
      averageProbability:
        type: number
      lostOffers:
        type: integer
      offerReserve:
        type: number
      offersByPhase:
        additionalProperties:
          type: integer
        type: object
      pipeline:
        items:
          $ref: '#/definitions/domain.PipelinePhaseData'
        type: array
      recentActivities:
        items:
          $ref: '#/definitions/domain.NotificationDTO'
        type: array
      recentOffers:
        items:
          $ref: '#/definitions/domain.OfferDTO'
        type: array
      recentProjects:
        items:
          $ref: '#/definitions/domain.ProjectDTO'
        type: array
      revenueForecast30Days:
        type: number
      revenueForecast90Days:
        type: number
      teamPerformance:
        items:
          $ref: '#/definitions/domain.TeamMemberStats'
        type: array
      topCustomers:
        items:
          $ref: '#/definitions/domain.CustomerDTO'
        type: array
      topDisciplines:
        items:
          $ref: '#/definitions/domain.DisciplineStats'
        type: array
      totalOffers:
        type: integer
      totalValue:
        type: number
      weightedValue:
        type: number
      winRate:
        type: number
      wonOffers:
        type: integer
    type: object
  domain.DealDTO:
    properties:
      actualCloseDate:
        type: string
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      createdAt:
        type: string
      currency:
        type: string
      customerId:
        type: string
      customerName:
        type: string
      description:
        type: string
      expectedCloseDate:
        type: string
      id:
        type: string
      lossReasonCategory:
        $ref: '#/definitions/domain.LossReasonCategory'
      lostReason:
        type: string
      notes:
        type: string
      offerId:
        type: string
      ownerId:
        type: string
      ownerName:
        type: string
      probability:
        type: integer
      source:
        type: string
      stage:
        $ref: '#/definitions/domain.DealStage'
      title:
        type: string
      updatedAt:
        type: string
      value:
        type: number
      weightedValue:
        type: number
    type: object
  domain.DealStage:
    enum:
    - lead
    - qualified
    - proposal
    - negotiation
    - won
    - lost
    type: string
    x-enum-varnames:
    - DealStageLead
    - DealStageQualified
    - DealStageProposal
    - DealStageNegotiation
    - DealStageWon
    - DealStageLost
  domain.DealStageHistoryDTO:
    properties:
      changedAt:
        type: string
      changedById:
        type: string
      changedByName:
        type: string
      dealId:
        type: string
      fromStage:
        $ref: '#/definitions/domain.DealStage'
      id:
        type: string
      notes:
        type: string
      toStage:
        $ref: '#/definitions/domain.DealStage'
    type: object
  domain.DisciplineStats:
    properties:
      avgMargin:
        type: number
      name:
        type: string
      offerCount:
        type: integer
      projectCount:
        type: integer
      totalValue:
        type: number
    type: object
  domain.ErrorResponse:
    properties:
      code:
        type: integer
      error:
        type: string
      message:
        type: string
    type: object
  domain.FileDTO:
    properties:
      contentType:
        type: string
      createdAt:
        type: string
      filename:
        type: string
      id:
        type: string
      offerId:
        type: string
      size:
        type: integer
    type: object
  domain.InheritBudgetRequest:
    properties:
      offerId:
        example: 550e8400-e29b-41d4-a716-446655440000
        format: uuid
        type: string
    required:
    - offerId
    type: object
  domain.InheritBudgetResponse:
    properties:
      dimensionsCount:
        type: integer
      project:
        $ref: '#/definitions/domain.ProjectDTO'
    type: object
  domain.LoseDealRequest:
    properties:
      notes:
        example: Lost to competitor XYZ who offered lower price
        maxLength: 500
        minLength: 10
        type: string
      reason:
        allOf:
        - $ref: '#/definitions/domain.LossReasonCategory'
        enum:
        - price
        - timing
        - competitor
        - requirements
        - other
        example: competitor
    required:
    - notes
    - reason
    type: object
  domain.LossReasonCategory:
    enum:
    - price
    - timing
    - competitor
    - requirements
    - other
    type: string
    x-enum-varnames:
    - LossReasonPrice
    - LossReasonTiming
    - LossReasonCompetitor
    - LossReasonRequirements
    - LossReasonOther
  domain.NotificationDTO:
    properties:
      createdAt:
        description: ISO 8601
        type: string
      entityId:
        type: string
      entityType:
        type: string
      id:
        type: string
      message:
        type: string
      read:
        type: boolean
      title:
        type: string
      type:
        type: string
    type: object
  domain.OfferDTO:
    properties:
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      createdAt:
        description: ISO 8601
        type: string
      customerId:
        type: string
      customerName:
        type: string
      description:
        type: string
      id:
        type: string
      items:
        items:
          $ref: '#/definitions/domain.OfferItemDTO'
        type: array
      notes:
        type: string
      phase:
        $ref: '#/definitions/domain.OfferPhase'
      probability:
        type: integer
      responsibleUserId:
        type: string
      responsibleUserName:
        type: string
      status:
        $ref: '#/definitions/domain.OfferStatus'
      title:
        type: string
      updatedAt:
        description: ISO 8601
        type: string
      value:
        type: number
    type: object
  domain.OfferDetailDTO:
    properties:
      budgetDimensions:
        items:
          $ref: '#/definitions/domain.BudgetDimensionDTO'
        type: array
      budgetSummary:
        $ref: '#/definitions/domain.BudgetSummaryDTO'
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      createdAt:
        description: ISO 8601
        type: string
      customerId:
        type: string
      customerName:
        type: string
      description:
        type: string
      filesCount:
        type: integer
      id:
        type: string
      items:
        items:
          $ref: '#/definitions/domain.OfferItemDTO'
        type: array
      notes:
        type: string
      phase:
        $ref: '#/definitions/domain.OfferPhase'
      probability:
        type: integer
      responsibleUserId:
        type: string
      responsibleUserName:
        type: string
      status:
        $ref: '#/definitions/domain.OfferStatus'
      title:
        type: string
      updatedAt:
        description: ISO 8601
        type: string
      value:
        type: number
    type: object
  domain.OfferItemDTO:
    properties:
      cost:
        type: number
      description:
        type: string
      discipline:
        type: string
      id:
        type: string
      margin:
        type: number
      quantity:
        type: number
      revenue:
        type: number
      unit:
        type: string
    type: object
  domain.OfferPhase:
    enum:
    - draft
    - in_progress
    - sent
    - won
    - lost
    - expired
    type: string
    x-enum-varnames:
    - OfferPhaseDraft
    - OfferPhaseInProgress
    - OfferPhaseSent
    - OfferPhaseWon
    - OfferPhaseLost
    - OfferPhaseExpired
  domain.OfferStatus:
    enum:
    - active
    - inactive
    - archived
    type: string
    x-enum-varnames:
    - OfferStatusActive
    - OfferStatusInactive
    - OfferStatusArchived
  domain.OfferWithItemsDTO:
    properties:
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      createdAt:
        type: string
      customerId:
        type: string
      customerName:
        type: string
      description:
        type: string
      id:
        type: string
      items:
        items:
          $ref: '#/definitions/domain.OfferItemDTO'
        type: array
      notes:
        type: string
      phase:
        $ref: '#/definitions/domain.OfferPhase'
      probability:
        type: integer
      responsibleUserId:
        type: string
      responsibleUserName:
        type: string
      status:
        $ref: '#/definitions/domain.OfferStatus'
      title:
        type: string
      updatedAt:
        type: string
      value:
        type: number
    type: object
  domain.PaginatedResponse:
    properties:
      data: {}
      page:
        type: integer
      pageSize:
        type: integer
      total:
        type: integer
      totalPages:
        type: integer
    type: object
  domain.PermissionDTO:
    properties:
      action:
        type: string
      allowed:
        type: boolean
      resource:
        type: string
    type: object
  domain.PermissionsResponseDTO:
    properties:
      isSuperAdmin:
        type: boolean
      permissions:
        items:
          $ref: '#/definitions/domain.PermissionDTO'
        type: array
      roles:
        items:
          type: string
        type: array
    type: object
  domain.PipelinePhaseData:
    properties:
      count:
        type: integer
      offers:
        items:
          $ref: '#/definitions/domain.OfferDTO'
        type: array
      phase:
        $ref: '#/definitions/domain.OfferPhase'
      totalValue:
        type: number
      weightedValue:
        type: number
    type: object
  domain.ProjectBudgetDTO:
    properties:
      budget:
        type: number
      percentUsed:
        type: number
      remaining:
        type: number
      spent:
        type: number
    type: object
  domain.ProjectDTO:
    properties:
      budget:
        type: number
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      completionPercent:
        type: number
      createdAt:
        description: ISO 8601
        type: string
      customerId:
        type: string
      customerName:
        type: string
      dealId:
        type: string
      description:
        type: string
      endDate:
        description: ISO 8601
        type: string
      estimatedCompletionDate:
        type: string
      hasDetailedBudget:
        type: boolean
      health:
        $ref: '#/definitions/domain.ProjectHealth'
      id:
        type: string
      managerId:
        type: string
      managerName:
        type: string
      name:
        type: string
      offerId:
        type: string
      projectNumber:
        type: string
      spent:
        type: number
      startDate:
        description: ISO 8601
        type: string
      status:
        $ref: '#/definitions/domain.ProjectStatus'
      summary:
        type: string
      teamMembers:
        items:
          type: string
        type: array
      updatedAt:
        description: ISO 8601
        type: string
    type: object
  domain.ProjectHealth:
    enum:
    - on_track
    - at_risk
    - delayed
    - over_budget
    type: string
    x-enum-varnames:
    - ProjectHealthOnTrack
    - ProjectHealthAtRisk
    - ProjectHealthDelayed
    - ProjectHealthOverBudget
  domain.ProjectStatus:
    enum:
    - planning
    - active
    - on_hold
    - completed
    - cancelled
    type: string
    x-enum-varnames:
    - ProjectStatusPlanning
    - ProjectStatusActive
    - ProjectStatusOnHold
    - ProjectStatusCompleted
    - ProjectStatusCancelled
  domain.ProjectWithDetailsDTO:
    properties:
      budget:
        type: number
      budgetSummary:
        $ref: '#/definitions/domain.BudgetSummaryDTO'
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      completionPercent:
        type: number
      createdAt:
        description: ISO 8601
        type: string
      customerId:
        type: string
      customerName:
        type: string
      deal:
        $ref: '#/definitions/domain.DealDTO'
      dealId:
        type: string
      description:
        type: string
      endDate:
        description: ISO 8601
        type: string
      estimatedCompletionDate:
        type: string
      hasDetailedBudget:
        type: boolean
      health:
        $ref: '#/definitions/domain.ProjectHealth'
      id:
        type: string
      managerId:
        type: string
      managerName:
        type: string
      name:
        type: string
      offer:
        $ref: '#/definitions/domain.OfferDTO'
      offerId:
        type: string
      projectNumber:
        type: string
      recentActivities:
        items:
          $ref: '#/definitions/domain.ActivityDTO'
        type: array
      spent:
        type: number
      startDate:
        description: ISO 8601
        type: string
      status:
        $ref: '#/definitions/domain.ProjectStatus'
      summary:
        type: string
      teamMembers:
        items:
          type: string
        type: array
      updatedAt:
        description: ISO 8601
        type: string
    type: object
  domain.RejectOfferRequest:
    properties:
      reason:
        maxLength: 500
        type: string
    type: object
  domain.ReorderDimensionsRequest:
    properties:
      orderedIds:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - orderedIds
    type: object
  domain.SearchResult:
    properties:
      id:
        type: string
      metadata:
        type: string
      subtitle:
        type: string
      title:
        type: string
      type:
        type: string
    type: object
  domain.TeamMemberStats:
    properties:
      avatar:
        type: string
      name:
        type: string
      offerCount:
        type: integer
      totalValue:
        type: number
      userId:
        type: string
      winRate:
        type: number
      wonCount:
        type: integer
      wonValue:
        type: number
    type: object
  domain.UnreadCountDTO:
    properties:
      count:
        type: integer
    type: object
  domain.UpdateActivityRequest:
    properties:
      assignedToId:
        maxLength: 100
        type: string
      attendees:
        items:
          type: string
        type: array
      body:
        maxLength: 2000
        type: string
      dueDate:
        type: string
      durationMinutes:
        minimum: 1
        type: integer
      isPrivate:
        type: boolean
      priority:
        maximum: 5
        minimum: 0
        type: integer
      scheduledAt:
        type: string
      status:
        $ref: '#/definitions/domain.ActivityStatus'
      title:
        maxLength: 200
        type: string
    required:
    - title
    type: object
  domain.UpdateBudgetDimensionRequest:
    properties:
      categoryId:
        maxLength: 50
        type: string
      cost:
        minimum: 0
        type: number
      customName:
        maxLength: 200
        type: string
      description:
        type: string
      displayOrder:
        minimum: 0
        type: integer
      marginOverride:
        type: boolean
      quantity:
        minimum: 0
        type: number
      revenue:
        minimum: 0
        type: number
      targetMarginPercent:
        minimum: 0
        type: number
      unit:
        maxLength: 50
        type: string
    type: object
  domain.UpdateContactRequest:
    properties:
      address:
        maxLength: 500
        type: string
      city:
        maxLength: 100
        type: string
      contactType:
        $ref: '#/definitions/domain.ContactType'
      country:
        maxLength: 100
        type: string
      department:
        maxLength: 100
        type: string
      email:
        maxLength: 255
        type: string
      firstName:
        maxLength: 100
        type: string
      isActive:
        type: boolean
      lastName:
        maxLength: 100
        type: string
      linkedInUrl:
        maxLength: 500
        type: string
      mobile:
        maxLength: 50
        type: string
      notes:
        type: string
      phone:
        maxLength: 50
        type: string
      postalCode:
        maxLength: 20
        type: string
      preferredContactMethod:
        maxLength: 50
        type: string
      primaryCustomerId:
        type: string
      title:
        maxLength: 100
        type: string
    required:
    - firstName
    - lastName
    type: object
  domain.UpdateCustomerRequest:
    properties:
      address:
        maxLength: 500
        type: string
      city:
        maxLength: 100
        type: string
      contactEmail:
        type: string
      contactPerson:
        maxLength: 200
        type: string
      contactPhone:
        maxLength: 50
        type: string
      country:
        maxLength: 100
        type: string
      email:
        type: string
      industry:
        $ref: '#/definitions/domain.CustomerIndustry'
      name:
        maxLength: 200
        type: string
      orgNumber:
        maxLength: 20
        type: string
      phone:
        maxLength: 50
        type: string
      postalCode:
        maxLength: 20
        type: string
      status:
        $ref: '#/definitions/domain.CustomerStatus'
      tier:
        $ref: '#/definitions/domain.CustomerTier'
    required:
    - country
    - email
    - name
    - orgNumber
    - phone
    type: object
  domain.UpdateDealRequest:
    properties:
      actualCloseDate:
        type: string
      currency:
        maxLength: 3
        type: string
      description:
        type: string
      expectedCloseDate:
        type: string
      lostReason:
        maxLength: 500
        type: string
      notes:
        type: string
      ownerId:
        maxLength: 100
        type: string
      probability:
        maximum: 100
        minimum: 0
        type: integer
      source:
        maxLength: 100
        type: string
      stage:
        $ref: '#/definitions/domain.DealStage'
      title:
        maxLength: 200
        type: string
      value:
        minimum: 0
        type: number
    required:
    - title
    type: object
  domain.UpdateDealStageRequest:
    properties:
      notes:
        type: string
      stage:
        $ref: '#/definitions/domain.DealStage'
    required:
    - stage
    type: object
  domain.UpdateOfferRequest:
    properties:
      description:
        type: string
      notes:
        type: string
      phase:
        $ref: '#/definitions/domain.OfferPhase'
      probability:
        maximum: 100
        minimum: 0
        type: integer
      responsibleUserId:
        type: string
      status:
        $ref: '#/definitions/domain.OfferStatus'
      title:
        maxLength: 200
        type: string
    required:
    - phase
    - responsibleUserId
    - status
    - title
    type: object
  domain.UpdateProjectRequest:
    properties:
      budget:
        minimum: 0
        type: number
      companyId:
        $ref: '#/definitions/domain.CompanyID'
      completionPercent:
        maximum: 100
        minimum: 0
        type: number
      dealId:
        type: string
      description:
        type: string
      endDate:
        type: string
      estimatedCompletionDate:
        type: string
      hasDetailedBudget:
        type: boolean
      health:
        $ref: '#/definitions/domain.ProjectHealth'
      managerId:
        type: string
      name:
        maxLength: 200
        type: string
      projectNumber:
        maxLength: 50
        type: string
      spent:
        minimum: 0
        type: number
      startDate:
        type: string
      status:
        $ref: '#/definitions/domain.ProjectStatus'
      summary:
        type: string
      teamMembers:
        items:
          type: string
        type: array
    required:
    - companyId
    - managerId
    - name
    - startDate
    - status
    type: object
  domain.UpdateProjectStatusRequest:
    properties:
      completionPercent:
        maximum: 100
        minimum: 0
        type: number
      health:
        $ref: '#/definitions/domain.ProjectHealth'
      status:
        $ref: '#/definitions/domain.ProjectStatus'
    required:
    - status
    type: object
  domain.UserDTO:
    properties:
      avatar:
        type: string
      department:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      roles:
        items:
          type: string
        type: array
    type: object
  handler.AuditLogDTO:
    properties:
      action:
        type: string
      changes:
        additionalProperties: true
        type: object
      companyId:
        type: string
      entityId:
        type: string
      entityName:
        type: string
      entityType:
        type: string
      id:
        type: string
      ipAddress:
        type: string
      metadata:
        additionalProperties: true
        type: object
      newValues:
        additionalProperties: true
        type: object
      oldValues:
        additionalProperties: true
        type: object
      performedAt:
        type: string
      requestId:
        type: string
      userAgent:
        type: string
      userEmail:
        type: string
      userId:
        type: string
      userName:
        type: string
    type: object
  handler.AuditLogListResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/handler.AuditLogDTO'
        type: array
      page:
        type: integer
      pageSize:
        type: integer
      total:
        type: integer
      totalPages:
        type: integer
    type: object
  handler.AuditStatsResponse:
    properties:
      actionCounts:
        additionalProperties:
          format: int64
          type: integer
        type: object
      endTime:
        type: string
      startTime:
        type: string
    type: object
  handler.DealWithHistoryResponse:
    properties:
      deal:
        $ref: '#/definitions/domain.DealDTO'
      stageHistory:
        items:
          $ref: '#/definitions/domain.DealStageHistoryDTO'
        type: array
    type: object
  handler.OfferBudgetResponse:
    properties:
      dimensions:
        items:
          $ref: '#/definitions/domain.BudgetDimensionDTO'
        type: array
      summary:
        $ref: '#/definitions/domain.BudgetSummaryDTO'
    type: object
  handler.WinDealResponse:
    properties:
      deal:
        $ref: '#/definitions/domain.DealDTO'
      project:
        $ref: '#/definitions/domain.ProjectDTO'
    type: object
  repository.ForecastPeriod:
    properties:
      dealCount:
        format: int64
        type: integer
      periodEnd:
        type: string
      periodStart:
        type: string
      totalValue:
        format: float64
        type: number
      weightedValue:
        format: float64
        type: number
    type: object
  repository.PipelineStats:
    properties:
      byStage:
        additionalProperties:
          $ref: '#/definitions/repository.StageStats'
        type: object
      totalCount:
        format: int64
        type: integer
      totalValue:
        format: float64
        type: number
      weightedValue:
        format: float64
        type: number
    type: object
  repository.StageStats:
    properties:
      count:
        format: int64
        type: integer
      totalValue:
        format: float64
        type: number
      weightedValue:
        format: float64
        type: number
    type: object
host: localhost:8080
info:
  contact:
    email: support@straye.io
    name: API Support
  description: CRM Relation API for customer, project, and sales pipeline management
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: Straye Relation API
  version: "1.0"
paths:
  /{entityType}/{id}/contacts:
    get:
      description: Get all contacts related to a specific entity (customer, deal,
        or project)
      parameters:
      - description: Entity type
        enum:
        - customers
        - deals
        - projects
        in: path
        name: entityType
        required: true
        type: string
      - description: Entity ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ContactDTO'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get contacts for entity
      tags:
      - Contacts
  /activities:
    get:
      consumes:
      - application/json
      description: Get paginated list of activities with optional filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page (max 200)
        in: query
        name: pageSize
        type: integer
      - description: Filter by activity type (meeting, task, call, email, note)
        in: query
        name: type
        type: string
      - description: Filter by status (planned, in_progress, completed, cancelled)
        in: query
        name: status
        type: string
      - description: Filter by target type (customer, project, offer, deal)
        in: query
        name: targetType
        type: string
      - description: Filter by target entity ID
        format: uuid
        in: query
        name: targetId
        type: string
      - description: Filter by assigned user ID
        in: query
        name: assignedTo
        type: string
      - description: Filter by due date from (YYYY-MM-DD)
        in: query
        name: dueDateFrom
        type: string
      - description: Filter by due date to (YYYY-MM-DD)
        in: query
        name: dueDateTo
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/domain.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/domain.ActivityDTO'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List activities
      tags:
      - Activities
    post:
      consumes:
      - application/json
      description: Create a new activity (meeting, task, call, email, or note)
      parameters:
      - description: Activity data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/domain.CreateActivityRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create activity
      tags:
      - Activities
  /activities/{id}:
    delete:
      consumes:
      - application/json
      description: Delete an activity
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete activity
      tags:
      - Activities
    get:
      consumes:
      - application/json
      description: Get a single activity by its ID
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get activity by ID
      tags:
      - Activities
    put:
      consumes:
      - application/json
      description: Update an existing activity
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Activity data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateActivityRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update activity
      tags:
      - Activities
  /activities/{id}/attendees:
    post:
      consumes:
      - application/json
      description: Add a user as an attendee to a meeting activity
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Attendee user ID
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/domain.AddAttendeeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Add attendee to meeting
      tags:
      - Activities
  /activities/{id}/attendees/{userId}:
    delete:
      consumes:
      - application/json
      description: Remove a user from the attendees list of a meeting activity
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: User ID to remove
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Remove attendee from meeting
      tags:
      - Activities
  /activities/{id}/complete:
    post:
      consumes:
      - application/json
      description: Mark an activity as completed with an optional outcome
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Optional outcome
        in: body
        name: body
        schema:
          $ref: '#/definitions/domain.CompleteActivityRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Complete activity
      tags:
      - Activities
  /activities/{id}/follow-up:
    post:
      consumes:
      - application/json
      description: Create a follow-up task from a completed activity
      parameters:
      - description: Activity ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Follow-up task data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/domain.CreateFollowUpRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ActivityDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create follow-up task
      tags:
      - Activities
  /activities/my-tasks:
    get:
      consumes:
      - application/json
      description: Get current user's incomplete tasks (assigned tasks that are not
        completed or cancelled)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page (max 200)
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/domain.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/domain.ActivityDTO'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get my tasks
      tags:
      - Activities
  /activities/stats:
    get:
      consumes:
      - application/json
      description: Get activity status counts for the current user's dashboard
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ActivityStatusCounts'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get activity statistics
      tags:
      - Activities
  /activities/upcoming:
    get:
      consumes:
      - application/json
      description: Get upcoming scheduled activities for the current user within a
        specified number of days
      parameters:
      - default: 7
        description: Number of days to look ahead (1-90)
        in: query
        name: daysAhead
        type: integer
      - default: 20
        description: Maximum number of activities to return (1-100)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ActivityDTO'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get upcoming activities
      tags:
      - Activities
  /audit:
    get:
      description: Returns a paginated list of audit log entries with optional filters
      parameters:
      - description: 'Page number (default: 1)'
        in: query
        name: page
        type: integer
      - description: 'Page size (default: 20, max: 100)'
        in: query
        name: pageSize
        type: integer
      - description: Filter by user ID
        in: query
        name: userId
        type: string
      - description: Filter by action type
        in: query
        name: action
        type: string
      - description: Filter by entity type
        in: query
        name: entityType
        type: string
      - description: Filter by entity ID
        in: query
        name: entityId
        type: string
      - description: Filter by start time (RFC3339)
        in: query
        name: startTime
        type: string
      - description: Filter by end time (RFC3339)
        in: query
        name: endTime
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.AuditLogListResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List audit logs
      tags:
      - Audit
  /audit/{id}:
    get:
      description: Returns a specific audit log entry
      parameters:
      - description: Audit log ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.AuditLogDTO'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get audit log by ID
      tags:
      - Audit
  /audit/entity/{entityType}/{entityId}:
    get:
      description: Returns audit logs for a specific entity
      parameters:
      - description: Entity type (e.g., Customer, Project)
        in: path
        name: entityType
        required: true
        type: string
      - description: Entity ID
        in: path
        name: entityId
        required: true
        type: string
      - description: 'Maximum number of entries (default: 50)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handler.AuditLogDTO'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get audit logs for an entity
      tags:
      - Audit
  /audit/export:
    get:
      description: Exports audit logs for a time range as JSON
      parameters:
      - description: Start time (RFC3339)
        in: query
        name: startTime
        required: true
        type: string
      - description: End time (RFC3339)
        in: query
        name: endTime
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.AuditLog'
            type: array
        "400":
          description: Bad request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Export audit logs
      tags:
      - Audit
  /audit/stats:
    get:
      description: Returns statistics about audit log actions for a time range
      parameters:
      - description: Start time (RFC3339)
        in: query
        name: startTime
        required: true
        type: string
      - description: End time (RFC3339)
        in: query
        name: endTime
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.AuditStatsResponse'
        "400":
          description: Bad request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get audit log statistics
      tags:
      - Audit
  /auth/me:
    get:
      description: Returns the current authenticated user with roles, company, and
        permissions info
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.AuthUserDTO'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get current authenticated user
      tags:
      - Auth
  /auth/permissions:
    get:
      description: Returns the full list of permissions for the current authenticated
        user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.PermissionsResponseDTO'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get current user's permissions
      tags:
      - Auth
  /companies:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Company'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get all companies
      tags:
      - Companies
  /contacts:
    get:
      consumes:
      - application/json
      description: Get paginated list of contacts with optional filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: pageSize
        type: integer
      - description: Search by name or email
        in: query
        name: search
        type: string
      - description: Filter by job title
        in: query
        name: title
        type: string
      - description: Filter by contact type
        enum:
        - primary
        - secondary
        - billing
        - technical
        - executive
        - other
        in: query
        name: contactType
        type: string
      - description: Filter by related entity type
        enum:
        - customer
        - deal
        - project
        in: query
        name: entityType
        type: string
      - description: Filter by related entity ID
        in: query
        name: entityId
        type: string
      - description: Sort option
        enum:
        - name_asc
        - name_desc
        - email_asc
        - created_desc
        in: query
        name: sortBy
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.PaginatedResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List contacts
      tags:
      - Contacts
    post:
      consumes:
      - application/json
      description: Create a new contact
      parameters:
      - description: Contact data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateContactRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ContactDTO'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create contact
      tags:
      - Contacts
  /contacts/{id}:
    delete:
      description: Delete a contact
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete contact
      tags:
      - Contacts
    get:
      description: Get a contact by ID with all relationships
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ContactDTO'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get contact
      tags:
      - Contacts
    put:
      consumes:
      - application/json
      description: Update an existing contact
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      - description: Contact data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateContactRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ContactDTO'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update contact
      tags:
      - Contacts
  /contacts/{id}/relationships:
    post:
      consumes:
      - application/json
      description: Add a relationship between a contact and an entity (customer, deal,
        or project)
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      - description: Relationship data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.AddContactRelationshipRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ContactRelationshipDTO'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "409":
          description: Conflict
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Add relationship
      tags:
      - Contacts
  /contacts/{id}/relationships/{relationshipId}:
    delete:
      description: Remove a relationship between a contact and an entity
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      - description: Relationship ID
        in: path
        name: relationshipId
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Remove relationship
      tags:
      - Contacts
  /customers:
    get:
      consumes:
      - application/json
      description: Get paginated list of customers with optional filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page (max 200)
        in: query
        name: pageSize
        type: integer
      - description: Search by name or organization number
        in: query
        name: search
        type: string
      - description: Filter by city
        in: query
        name: city
        type: string
      - description: Filter by country
        in: query
        name: country
        type: string
      - description: Filter by status
        enum:
        - active
        - inactive
        - lead
        - churned
        in: query
        name: status
        type: string
      - description: Filter by tier
        enum:
        - bronze
        - silver
        - gold
        - platinum
        in: query
        name: tier
        type: string
      - description: Filter by industry
        enum:
        - construction
        - manufacturing
        - retail
        - logistics
        - agriculture
        - energy
        - public_sector
        - real_estate
        - other
        in: query
        name: industry
        type: string
      - description: Sort option
        enum:
        - name_asc
        - name_desc
        - created_desc
        - created_asc
        - city_asc
        - city_desc
        in: query
        name: sortBy
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/domain.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/domain.CustomerDTO'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List customers
      tags:
      - Customers
    post:
      consumes:
      - application/json
      description: Create a new customer
      parameters:
      - description: Customer data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateCustomerRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.CustomerDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "409":
          description: Duplicate organization number
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create customer
      tags:
      - Customers
  /customers/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a customer. Cannot delete customers with active projects,
        deals, or offers.
      parameters:
      - description: Customer ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "409":
          description: Customer has active dependencies
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete customer
      tags:
      - Customers
    get:
      consumes:
      - application/json
      description: Get a customer with full details including stats, contacts, active
        deals, and projects
      parameters:
      - description: Customer ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.CustomerWithDetailsDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get customer by ID
      tags:
      - Customers
    put:
      consumes:
      - application/json
      description: Update an existing customer
      parameters:
      - description: Customer ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Customer data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateCustomerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.CustomerDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "409":
          description: Duplicate organization number
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update customer
      tags:
      - Customers
  /customers/{id}/contacts:
    get:
      consumes:
      - application/json
      description: Get all contacts associated with a customer
      parameters:
      - description: Customer ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ContactDTO'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List customer contacts
      tags:
      - Customers
    post:
      consumes:
      - application/json
      description: Create a new contact and associate it with the specified customer
      parameters:
      - description: Customer ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Contact data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateContactRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ContactDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create contact for customer
      tags:
      - Customers
  /dashboard/metrics:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DashboardMetrics'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get dashboard metrics
      tags:
      - Dashboard
  /deals:
    get:
      description: List deals with optional filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Page size
        in: query
        name: pageSize
        type: integer
      - description: Filter by stage (lead, qualified, proposal, negotiation, won,
          lost)
        in: query
        name: stage
        type: string
      - description: Filter by owner ID
        in: query
        name: ownerId
        type: string
      - description: Filter by customer ID
        in: query
        name: customerId
        type: string
      - description: Filter by company ID
        in: query
        name: companyId
        type: string
      - description: Filter by source
        in: query
        name: source
        type: string
      - description: Minimum value
        in: query
        name: minValue
        type: number
      - description: Maximum value
        in: query
        name: maxValue
        type: number
      - description: Created after date (YYYY-MM-DD)
        in: query
        name: createdAfter
        type: string
      - description: Created before date (YYYY-MM-DD)
        in: query
        name: createdBefore
        type: string
      - description: Expected close after date (YYYY-MM-DD)
        in: query
        name: closeAfter
        type: string
      - description: Expected close before date (YYYY-MM-DD)
        in: query
        name: closeBefore
        type: string
      - description: Sort by (created_desc, created_asc, value_desc, value_asc, probability_desc,
          probability_asc, close_date_desc, close_date_asc, weighted_desc, weighted_asc)
        in: query
        name: sort
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.PaginatedResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List deals
      tags:
      - Deals
    post:
      consumes:
      - application/json
      description: Create a new deal in the sales pipeline
      parameters:
      - description: Deal data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateDealRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.DealDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create deal
      tags:
      - Deals
  /deals/{id}:
    delete:
      description: Delete a deal
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete deal
      tags:
      - Deals
    get:
      description: Get a deal by ID with full details including stage history
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.DealWithHistoryResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get deal
      tags:
      - Deals
    put:
      consumes:
      - application/json
      description: Update an existing deal
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      - description: Deal data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateDealRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DealDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update deal
      tags:
      - Deals
  /deals/{id}/activities:
    get:
      description: Get activities for a deal
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      - default: 50
        description: Limit results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ActivityDTO'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get deal activities
      tags:
      - Deals
  /deals/{id}/advance:
    post:
      consumes:
      - application/json
      description: Advance a deal to the next stage in the pipeline
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      - description: Stage data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateDealStageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DealDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Advance deal stage
      tags:
      - Deals
  /deals/{id}/history:
    get:
      description: Get the stage history for a deal
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.DealStageHistoryDTO'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get deal stage history
      tags:
      - Deals
  /deals/{id}/lose:
    post:
      consumes:
      - application/json
      description: Mark a deal as lost with a categorized reason and detailed notes
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      - description: Loss reason category and notes
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.LoseDealRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DealDTO'
        "400":
          description: 'Invalid request - reason must be one of: price, timing, competitor,
            requirements, other. Notes must be 10-500 characters.'
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Lose deal
      tags:
      - Deals
  /deals/{id}/reopen:
    post:
      description: Reopen a lost deal as a new lead
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DealDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Reopen deal
      tags:
      - Deals
  /deals/{id}/win:
    post:
      consumes:
      - application/json
      description: Mark a deal as won and optionally create a project
      parameters:
      - description: Deal ID
        in: path
        name: id
        required: true
        type: string
      - default: true
        description: Create a project from the deal
        in: query
        name: createProject
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.WinDealResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Win deal
      tags:
      - Deals
  /deals/forecast:
    get:
      description: Get forecast data for upcoming months
      parameters:
      - default: 3
        description: Number of months to forecast
        in: query
        name: months
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/repository.ForecastPeriod'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get pipeline forecast
      tags:
      - Deals
  /deals/pipeline:
    get:
      description: Get all deals grouped by stage for pipeline view
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              items:
                $ref: '#/definitions/domain.DealDTO'
              type: array
            type: object
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get pipeline overview
      tags:
      - Deals
  /deals/stats:
    get:
      description: Get aggregated statistics for the sales pipeline
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/repository.PipelineStats'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get pipeline statistics
      tags:
      - Deals
  /files/{id}:
    get:
      parameters:
      - description: File ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.FileDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get file metadata
      tags:
      - Files
  /files/{id}/download:
    get:
      parameters:
      - description: File ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Download file
      tags:
      - Files
  /files/upload:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: File to upload
        in: formData
        name: file
        required: true
        type: file
      - description: Offer ID to attach file to
        in: formData
        name: offerId
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.FileDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Upload file
      tags:
      - Files
  /notifications:
    get:
      consumes:
      - application/json
      description: Get paginated list of notifications for the current user
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page (max 200)
        in: query
        name: pageSize
        type: integer
      - default: false
        description: Filter to show only unread notifications
        in: query
        name: unreadOnly
        type: boolean
      - description: Filter by notification type
        enum:
        - task_assigned
        - budget_alert
        - deal_stage_changed
        - offer_accepted
        - offer_rejected
        - activity_reminder
        - project_update
        in: query
        name: type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/domain.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/domain.NotificationDTO'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List notifications
      tags:
      - Notifications
  /notifications/{id}:
    get:
      consumes:
      - application/json
      description: Get a single notification by its ID
      parameters:
      - description: Notification ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.NotificationDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get notification by ID
      tags:
      - Notifications
  /notifications/{id}/read:
    put:
      consumes:
      - application/json
      description: Mark a single notification as read
      parameters:
      - description: Notification ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Mark notification as read
      tags:
      - Notifications
  /notifications/count:
    get:
      consumes:
      - application/json
      description: Get the count of unread notifications for the current user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.UnreadCountDTO'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get unread notification count
      tags:
      - Notifications
  /notifications/read-all:
    put:
      consumes:
      - application/json
      description: Mark all notifications for the current user as read
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Mark all notifications as read
      tags:
      - Notifications
  /offers:
    get:
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Page size
        in: query
        name: pageSize
        type: integer
      - description: Filter by customer ID
        in: query
        name: customerId
        type: string
      - description: Filter by project ID
        in: query
        name: projectId
        type: string
      - description: Filter by phase
        in: query
        name: phase
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.PaginatedResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List offers
      tags:
      - Offers
    post:
      consumes:
      - application/json
      parameters:
      - description: Offer data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateOfferRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.OfferDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create offer
      tags:
      - Offers
  /offers/{id}:
    delete:
      description: Delete an offer by ID. Only offers in draft or in_progress phase
        can be deleted.
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Invalid offer ID
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete offer
      tags:
      - Offers
    get:
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.OfferWithItemsDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get offer
      tags:
      - Offers
    put:
      consumes:
      - application/json
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Offer data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateOfferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.OfferDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update offer
      tags:
      - Offers
  /offers/{id}/accept:
    post:
      consumes:
      - application/json
      description: Transitions an offer from sent phase to won phase. Optionally creates
        a project from the offer.
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Accept options
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.AcceptOfferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Accepted offer and optional project
          schema:
            $ref: '#/definitions/domain.AcceptOfferResponse'
        "400":
          description: Invalid offer ID, request body, or offer not in sent phase
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Accept offer
      tags:
      - Offers
  /offers/{id}/activities:
    get:
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - default: 50
        description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ActivityDTO'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get offer activities
      tags:
      - Offers
  /offers/{id}/advance:
    post:
      consumes:
      - application/json
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Phase data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.AdvanceOfferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.OfferDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Advance offer phase
      tags:
      - Offers
  /offers/{id}/budget:
    get:
      description: Get the complete budget breakdown for an offer including all dimensions
        and summary
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Budget breakdown with dimensions and summary
          schema:
            $ref: '#/definitions/handler.OfferBudgetResponse'
        "400":
          description: Invalid offer ID
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get offer budget breakdown
      tags:
      - Offer Budget
  /offers/{id}/budget/dimensions:
    get:
      description: Get all budget dimensions for a specific offer with pagination
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Page size
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Paginated list of budget dimensions
          schema:
            $ref: '#/definitions/domain.PaginatedResponse'
        "400":
          description: Invalid offer ID
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List offer budget dimensions
      tags:
      - Offer Budget
    post:
      consumes:
      - application/json
      description: Add a new budget dimension to an offer. Either categoryId or customName
        must be provided.
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Dimension data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.AddOfferBudgetDimensionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created budget dimension
          schema:
            $ref: '#/definitions/domain.BudgetDimensionDTO'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Add budget dimension to offer
      tags:
      - Offer Budget
  /offers/{id}/budget/dimensions/{dimensionId}:
    delete:
      description: Delete a budget dimension from an offer
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Dimension ID
        in: path
        name: dimensionId
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Invalid ID
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Dimension not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete offer budget dimension
      tags:
      - Offer Budget
    put:
      consumes:
      - application/json
      description: Update an existing budget dimension for an offer
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Dimension ID
        in: path
        name: dimensionId
        required: true
        type: string
      - description: Dimension data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateBudgetDimensionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated budget dimension
          schema:
            $ref: '#/definitions/domain.BudgetDimensionDTO'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Dimension not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update offer budget dimension
      tags:
      - Offer Budget
  /offers/{id}/budget/reorder:
    put:
      consumes:
      - application/json
      description: Reorder the budget dimensions for an offer. All dimension IDs must
        be provided.
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Ordered dimension IDs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.ReorderDimensionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Reordered budget dimensions
          schema:
            items:
              $ref: '#/definitions/domain.BudgetDimensionDTO'
            type: array
        "400":
          description: Invalid request or count mismatch
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Reorder offer budget dimensions
      tags:
      - Offer Budget
  /offers/{id}/clone:
    post:
      consumes:
      - application/json
      description: Creates a copy of an existing offer. The cloned offer starts in
        draft phase.
      parameters:
      - description: Source Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Clone options
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CloneOfferRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Cloned offer
          schema:
            $ref: '#/definitions/domain.OfferDTO'
        "400":
          description: Invalid offer ID or request body
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Source offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Clone offer
      tags:
      - Offers
  /offers/{id}/detail:
    get:
      description: Get an offer including budget dimensions and summary calculations
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Offer with budget details
          schema:
            $ref: '#/definitions/domain.OfferDetailDTO'
        "400":
          description: Invalid offer ID
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get offer with budget details
      tags:
      - Offers
  /offers/{id}/files:
    get:
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.FileDTO'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get offer files
      tags:
      - Offers
  /offers/{id}/items:
    get:
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.OfferItemDTO'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get offer items
      tags:
      - Offers
    post:
      consumes:
      - application/json
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Item data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateOfferItemRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.OfferItemDTO'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Add offer item
      tags:
      - Offers
  /offers/{id}/recalculate:
    post:
      description: Recalculates the offer value from budget dimensions
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Updated offer
          schema:
            $ref: '#/definitions/domain.OfferDTO'
        "400":
          description: Invalid offer ID
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Recalculate offer totals
      tags:
      - Offers
  /offers/{id}/reject:
    post:
      consumes:
      - application/json
      description: Transitions an offer from sent phase to lost phase with an optional
        reason.
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      - description: Rejection reason
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.RejectOfferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Rejected offer
          schema:
            $ref: '#/definitions/domain.OfferDTO'
        "400":
          description: Invalid offer ID, request body, or offer not in sent phase
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Reject offer
      tags:
      - Offers
  /offers/{id}/send:
    post:
      description: Transitions an offer from draft or in_progress phase to sent phase.
      parameters:
      - description: Offer ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Updated offer
          schema:
            $ref: '#/definitions/domain.OfferDTO'
        "400":
          description: Invalid offer ID or offer not in valid phase for sending
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "404":
          description: Offer not found
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/domain.ErrorResponse'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Send offer to customer
      tags:
      - Offers
  /projects:
    get:
      consumes:
      - application/json
      description: Get paginated list of projects with optional filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page (max 200)
        in: query
        name: pageSize
        type: integer
      - description: Filter by customer ID
        format: uuid
        in: query
        name: customerId
        type: string
      - description: Filter by status
        enum:
        - planning
        - active
        - on_hold
        - completed
        - cancelled
        in: query
        name: status
        type: string
      - description: Filter by health
        enum:
        - on_track
        - at_risk
        - over_budget
        in: query
        name: health
        type: string
      - description: Filter by manager ID
        in: query
        name: managerId
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/domain.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/domain.ProjectDTO'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List projects
      tags:
      - Projects
    post:
      consumes:
      - application/json
      description: Create a new project. Requires manager or admin permissions.
      parameters:
      - description: Project data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.CreateProjectRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ProjectDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Create project
      tags:
      - Projects
  /projects/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a project. Requires manager or admin permissions.
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "403":
          description: User is not the project manager
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Delete project
      tags:
      - Projects
    get:
      consumes:
      - application/json
      description: Get a project with full details including budget summary and recent
        activities
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ProjectWithDetailsDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get project by ID
      tags:
      - Projects
    put:
      consumes:
      - application/json
      description: Update an existing project. Requires manager or admin permissions.
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Project data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ProjectDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "403":
          description: User is not the project manager
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update project
      tags:
      - Projects
  /projects/{id}/activities:
    get:
      consumes:
      - application/json
      description: Get recent activities for a project
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 50
        description: Limit
        in: query
        maximum: 200
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ActivityDTO'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get project activities
      tags:
      - Projects
  /projects/{id}/budget:
    get:
      consumes:
      - application/json
      description: Get budget information for a project including spent amount and
        remaining budget
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ProjectBudgetDTO'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Get project budget
      tags:
      - Projects
  /projects/{id}/inherit-budget:
    post:
      consumes:
      - application/json
      description: Inherit budget dimensions from a won offer to the project. The
        offer must be in 'won' phase.
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Offer ID to inherit budget from
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.InheritBudgetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.InheritBudgetResponse'
        "400":
          description: Invalid request or offer not in won phase
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "403":
          description: User is not the project manager
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Project or offer not found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Inherit budget from offer
      tags:
      - Projects
  /projects/{id}/status:
    put:
      consumes:
      - application/json
      description: Update project status with optional health override. Requires manager
        or admin permissions.
      parameters:
      - description: Project ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Status update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateProjectStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ProjectDTO'
        "400":
          description: Invalid status transition
          schema:
            $ref: '#/definitions/domain.APIError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.APIError'
        "403":
          description: User is not the project manager
          schema:
            $ref: '#/definitions/domain.APIError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.APIError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.APIError'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Update project status
      tags:
      - Projects
  /search:
    get:
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.SearchResult'
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: Global search
      tags:
      - Search
  /users:
    get:
      description: Returns a list of users (currently only returns the authenticated
        user)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.UserDTO'
            type: array
      security:
      - BearerAuth: []
      - ApiKeyAuth: []
      summary: List users
      tags:
      - Users
securityDefinitions:
  ApiKeyAuth:
    description: API Key for system operations
    in: header
    name: x-api-key
    type: apiKey
  BearerAuth:
    description: JWT Bearer token
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
